<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>InstaPlay 🎮</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  body {
    margin:0;font-family:"Tajawal",sans-serif;
    background:linear-gradient(-45deg,#f9ce34,#ee2a7b,#6228d7,#f9ce34);
    background-size:400% 400%;animation:gradientMove 12s ease infinite;
    color:white;min-height:100vh;display:flex;justify-content:center;align-items:center;flex-direction:column;
  }
  @keyframes gradientMove {0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}
  .card {background:rgba(0,0,0,0.6);padding:20px;border-radius:18px;width:420px;max-width:95%;
    box-shadow:0 10px 30px rgba(0,0,0,0.5);margin:10px;}
  h1,h2,h3{margin:0 0 15px;text-align:center;}
  input,button {width:100%;margin:6px 0;padding:12px;border:none;border-radius:10px;font-size:15px;}
  input{background:rgba(255,255,255,0.9);color:#333;}
  button{cursor:pointer;font-weight:bold;background:white;color:#6228d7;transition:.3s;}
  button:hover{background:#ee2a7b;color:white;}
  #dashboard,#auth{display:none;}
  .banner{text-align:center;margin-bottom:20px;}
  .banner h1{font-size:32px;}
  .offer-item{margin:8px 0;padding:8px;background:rgba(255,255,255,0.1);border-radius:8px;text-align:center;}
  .info,.contact{margin-top:15px;background:rgba(0,0,0,0.4);padding:10px;border-radius:10px;}
  .info p,.contact p{text-align:center;margin:6px 0;}
</style>
</head>
<body>

<!-- 🏠 Landing Page -->
<div id="landing" class="card">
  <div class="banner">
    <h1>🎮 InstaPlay</h1>
    <p>ألعاب ممتعة ✨ أرباح سريعة 💰</p>
  </div>
  <div>
    <h3>🎁 عروض حصرية</h3>
    <div class="offer-item">💎 أول إيداع = 100% Bonus</div>
    <div class="offer-item">🎯 إلعب 5 مرات = Bonus 2$</div>
    <div class="offer-item">🤝 دعوة صديق = 5$ Bonus</div>
    <div class="offer-item">🎁 رصيد تجريبي = 10$</div>
  </div>
  <button onclick="goAuth()">🚀 ابدأ اللعب الآن</button>
</div>

<!-- ℹ️ حولنا -->
<div class="info card">
  <h3>ℹ️ حول InstaPlay</h3>
  <p>InstaPlay منصة ترفيهية تجمع بين المتعة والربح. 🎮</p>
  <p>نوفر ألعاب سهلة ومشوقة مثل Coin Flip, Dice, Wheel, Mines.</p>
  <p>هدفنا تقديم تجربة ممتعة وآمنة لجميع اللاعبين.</p>
</div>

<!-- 📞 تواصل معنا -->
<div class="contact card">
  <h3>📞 تواصل معنا</h3>
  <p>✉️ البريد: <a href="mailto:support@instaplay.com" style="color:#f9ce34;">support@instaplay.com</a></p>
  <p>📱 واتساب: <a href="https://wa.me/212600000000" target="_blank" style="color:#25d366;">+212 600-000000</a></p>
</div>

<!-- 🔐 تسجيل -->
<div id="auth" class="card">
  <h1>InstaPlay 🎮</h1>
  <h3>تسجيل الدخول / إنشاء حساب</h3>
  <input id="name" type="text" placeholder="الاسم الكامل">
  <input id="email" type="text" placeholder="الإيميل">
  <input id="pass" type="password" placeholder="كلمة المرور">
  <button onclick="register()">تسجيل جديد</button>
  <button onclick="login()">دخول</button>
</div>

<!-- 📊 لوحة التحكم -->
<div id="dashboard" class="card">
  <h2>مرحبا <span id="userName"></span></h2>
  <p>ID: <span id="userId"></span></p>
  <div class="balance-box">💰 الرصيد: <span id="balance"></span> $</div>
  <button onclick="activateDemo()">🎁 تفعيل الرصيد التجريبي</button>
  
  <div class="games-grid">
    <div class="game-btn" onclick="showGame('coin')">🪙 Coin Flip</div>
    <div class="game-btn" onclick="showGame('dice')">🎲 Dice</div>
    <div class="game-btn" onclick="showGame('wheel')">🎡 Wheel</div>
    <div class="game-btn" onclick="showGame('mines')">💣 Mines</div>
  </div>

  <div id="gamesArea">
    <div id="coin" class="game-area">
      <h3>🪙 Coin Flip</h3>
      <input id="coinBet" type="number" placeholder="أدخل المبلغ">
      <select id="coinChoice"><option value="head">وجه</option><option value="tail">كتف</option></select>
      <button onclick="playCoin()">إلعب</button>
      <p id="coinResult"></p>
    </div>
    <div id="dice" class="game-area">
      <h3>🎲 Dice</h3>
      <input id="diceBet" type="number" placeholder="أدخل المبلغ">
      <select id="diceChoice"><option value="under">أقل من 50</option><option value="over">أكثر من 50</option></select>
      <button onclick="playDice()">إلعب</button>
      <p id="diceResult"></p>
    </div>
    <div id="wheel" class="game-area">
      <h3>🎡 Wheel</h3>
      <input id="wheelBet" type="number" placeholder="أدخل المبلغ">
      <button onclick="playWheel()">إدارة العجلة</button>
      <p id="wheelResult"></p>
    </div>
    <div id="mines" class="game-area">
      <h3>💣 Mines (نسخة مبسطة)</h3>
      <input id="minesBet" type="number" placeholder="أدخل المبلغ">
      <button onclick="playMines()">إلعب</button>
      <p id="minesResult"></p>
    </div>
  </div>

  <div class="offers">
    <h4>🎁 العروض الحالية</h4>
    <div class="offer-item">💎 أول إيداع → 100% Bonus</div>
    <div class="offer-item">🎯 إلعب 5 مرات متتابعة → Bonus 2$</div>
    <div class="offer-item">🤝 دعوة صديق → 5$ Bonus</div>
  </div>

  <div class="leaderboard"><h4>🏆 المتصدرون</h4><div id="topPlayers"></div></div>
  <div class="transactions">
    <h4>📜 سجل العمليات</h4>
    <table>
      <thead><tr><th>🕒</th><th>🎮 اللعبة</th><th>💵 الرهان</th><th>📊 النتيجة</th></tr></thead>
      <tbody id="txLog"></tbody>
    </table>
  </div>
  <div class="winners"><h4>🔥 آخر الرابحين</h4><div id="liveWinners"></div></div>
  <div class="referral"><h4>🤝 دعوة الأصدقاء</h4><p>رابطك: <span id="refLink"></span></p></div>
  <button onclick="logout()">🚪 خروج</button>
</div>

<script>
let currentUser=null;
function goAuth(){document.getElementById("landing").style.display="none";document.getElementById("auth").style.display="block";}
function uid(){return "UID"+Math.floor(Math.random()*99999);}
function saveUser(u){localStorage.setItem("user_"+u.email,JSON.stringify(u));}
function loadUser(e){return JSON.parse(localStorage.getItem("user_"+e));}
function allUsers(){let a=[];for(let i=0;i<localStorage.length;i++){let k=localStorage.key(i);if(k.startsWith("user_"))a.push(JSON.parse(localStorage.getItem(k)));}return a;}

// باقي الدوال نفسها (register, login, logout, updateUI, activateDemo, الألعاب, leaderboard, liveWinners, logTx)
</script>

</body>
</html>
