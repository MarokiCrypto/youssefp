<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>InstaPlay ğŸ®</title>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    body{margin:0;font-family:"Tajawal",sans-serif;
      background:linear-gradient(-45deg,#f9ce34,#ee2a7b,#6228d7,#f9ce34);
      background-size:400% 400%;animation:gradientMove 12s ease infinite;
      color:white;min-height:100vh;display:flex;justify-content:center;align-items:center;padding:20px;flex-direction:column;}
    @keyframes gradientMove{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
    .card{background:rgba(0,0,0,0.6);backdrop-filter:blur(12px);padding:20px;border-radius:18px;width:100%;max-width:440px;
      box-shadow:0 12px 35px rgba(0,0,0,0.6);margin:10px auto;animation:fadeIn .6s ease;}
    h1,h2,h3{margin:0 0 15px;text-align:center;text-shadow:0 0 6px #000;}
    input,button,select{width:100%;margin:6px 0;padding:12px;border:none;border-radius:10px;font-size:15px;}
    input,select{background:#fff;color:#333}
    button{cursor:pointer;font-weight:bold;background:linear-gradient(45deg,#ff416c,#ff4b2b);color:white;transition:.3s}
    button:hover{transform:scale(1.07) translateY(-2px);}
    .hidden{display:none}
    .games-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-top:10px}
    .game-btn{background:linear-gradient(45deg,#36d1dc,#5b86e5);color:#fff;padding:14px;border-radius:12px;font-weight:bold;cursor:pointer;transition:.3s;text-align:center}
    .game-btn:hover{transform:scale(1.08);box-shadow:0 0 15px rgba(255,255,255,0.6);}
    table{width:100%;border-collapse:collapse;background:rgba(255,255,255,0.08);margin-top:10px;}
    th,td{padding:6px;border:1px solid rgba(255,255,255,0.2);font-size:13px;text-align:center}
    th{background:rgba(0,0,0,0.4)}
    @keyframes fadeIn{from{opacity:0;transform:translateY(20px);}to{opacity:1;transform:translateY(0);}}
    @keyframes shake{0%{transform:translateX(0);}25%{transform:translateX(-5px);}50%{transform:translateX(5px);}75%{transform:translateX(-5px);}100%{transform:translateX(0);}}
    @keyframes bounce{0%,20%,50%,80%,100%{transform:translateY(0);}40%{transform:translateY(-15px);}60%{transform:translateY(-8px);}}
    .lose-anim{animation:shake 0.5s;}
    .win-anim{animation:bounce 1s;}
    #confettiCanvas{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:999;}
    @media (max-width:600px){.card{width:95%;padding:15px;}input,button,select{font-size:14px;padding:10px;}h1,h2,h3{font-size:18px;} .games-grid{grid-template-columns:1fr;}}
  </style>
</head>
<body>
<canvas id="confettiCanvas" class="hidden"></canvas>

<!-- ğŸ¶ Music + Sounds -->
<audio id="bgMusic" src="https://cdn.pixabay.com/download/audio/2023/03/15/audio_4d7fa0c7b6.mp3?filename=retro-game-music-142152.mp3" loop></audio>
<audio id="winSound" src="https://assets.mixkit.co/sfx/download/mixkit-achievement-bell-600.mp3"></audio>
<audio id="loseSound" src="https://assets.mixkit.co/sfx/download/mixkit-player-losing-or-failing-2042.mp3"></audio>
<audio id="clickSound" src="https://assets.mixkit.co/sfx/download/mixkit-fast-small-sweep-transition-166.mp3"></audio>
<button onclick="toggleMusic()" style="position:fixed;top:10px;right:10px;z-index:999;padding:8px;border-radius:8px">ğŸ”Š Music</button>

<!-- ğŸŒˆ Landing -->
<div id="landing" class="card">
  <h1>ğŸ® Welcome to InstaPlay</h1>
  <button onclick="show('auth')">ğŸš€ Get Started</button>
</div>

<!-- ğŸ Ø¹Ø±ÙˆØ¶ -->
<div class="card">
  <h2>ğŸ Ø¹Ø±ÙˆØ¶ Ø­ØµØ±ÙŠØ©</h2>
  <ul style="list-style:none;padding:0;text-align:center">
    <li>ğŸ’ 100% Bonus Ø¹Ù„Ù‰ Ø£ÙˆÙ„ Ø¥ÙŠØ¯Ø§Ø¹</li>
    <li>ğŸ”¥ Ø¹Ø±ÙˆØ¶ Ø£Ø³Ø¨ÙˆØ¹ÙŠØ© Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø§Ù„Ù†Ø´ÙŠØ·ÙŠÙ†</li>
    <li>ğŸ† Ø§Ø±Ø¨Ø­ Ø¬ÙˆØ§Ø¦Ø² Ø¥Ø¶Ø§ÙÙŠØ© ÙƒÙ„ Ø´Ù‡Ø±</li>
  </ul>
</div>

<!-- ğŸ‘¥ Ù…Ù† Ù†Ø­Ù† -->
<div class="card">
  <h2>ğŸ‘¥ Ù…Ù† Ù†Ø­Ù†</h2>
  <p>InstaPlay Ù‡ÙŠ Ù…Ù†ØµØ© Ø£Ù„Ø¹Ø§Ø¨ Ù…Ø¨ØªÙƒØ±Ø© ØªØ¬Ù…Ø¹ Ø¨ÙŠÙ† Ø§Ù„Ù…ØªØ¹Ø© ÙˆØ§Ù„Ù…ÙƒØ§ÙØ¢Øª. Ù‡Ø¯ÙÙ†Ø§ Ù‡Ùˆ ØªÙˆÙÙŠØ± ØªØ¬Ø±Ø¨Ø© Ø¢Ù…Ù†Ø© ÙˆØ³Ù‡Ù„Ø© Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†.</p>
</div>

<!-- ğŸ” Auth -->
<div id="auth" class="card hidden">
  <h1>ğŸ® InstaPlay</h1>
  <input id="name" type="text" placeholder="Full name">
  <input id="email" type="text" placeholder="Email">
  <input id="pass" type="password" placeholder="Password">
  <button onclick="register()">Register</button>
  <button onclick="login()">Login</button>
  <button onclick="show('adminLogin')">ğŸ‘‘ Admin Login</button>
</div>

<!-- ğŸ‘‘ Admin Login -->
<div id="adminLogin" class="card hidden">
  <h2>ğŸ‘‘ Admin Login</h2>
  <input id="adminEmail" type="text" placeholder="Email">
  <input id="adminPass" type="password" placeholder="Password">
  <button onclick="adminLogin()">Login</button>
  <button onclick="show('auth')">â¬…ï¸ Back</button>
</div>

<!-- ğŸ‘‘ Admin Panel -->
<div id="adminPanel" class="card hidden">
  <h2>ğŸ‘‘ Admin Panel</h2>
  <input id="searchId" type="text" placeholder="Search by ID">
  <button onclick="searchUserById()">ğŸ” Search</button>
  <div id="searchResult"></div>
  <table id="usersTable">
    <thead><tr><th>Name</th><th>ID</th><th>Balance</th><th>Losses</th><th>Edit</th><th>Mode</th></tr></thead>
    <tbody></tbody>
  </table>
  <button onclick="logout()">â¬…ï¸ Logout</button>
</div>

<!-- ğŸ® Dashboard -->
<div id="dashboard" class="card hidden">
  <h2>Welcome <span id="userName"></span></h2>
  <p>ID: <span id="userId"></span></p>
  <p>ğŸ’° Balance: <span id="balance"></span> $</p>
  <select id="betAmount">
    <option value="5">5$</option><option value="10">10$</option>
    <option value="20">20$</option><option value="50">50$</option>
  </select>
  <div class="games-grid">
    <div class="game-btn" onclick="show('rpsGame')">âœŠâœ‹âœŒï¸ RPS</div>
    <div class="game-btn" onclick="show('slotGame')">ğŸ° Slot</div>
    <div class="game-btn" onclick="startMines()">ğŸ’£ Mines</div>
  </div>
  <button onclick="logout()">ğŸšª Logout</button>
</div>

<!-- RPS -->
<div id="rpsGame" class="card hidden">
  <h2>âœŠâœ‹âœŒï¸ RPS</h2>
  <button onclick="playRPS('âœŠ')">âœŠ</button>
  <button onclick="playRPS('âœ‹')">âœ‹</button>
  <button onclick="playRPS('âœŒï¸')">âœŒï¸</button>
  <p>Ø§Ù†Øª: <span id="playerChoice"></span></p>
  <p>Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±: <span id="computerChoice"></span></p>
  <p id="rpsResult"></p>
  <button onclick="show('dashboard')">â¬…ï¸ Back</button>
</div>

<!-- Slot -->
<div id="slotGame" class="card hidden">
  <h2>ğŸ° Slot</h2>
  <button onclick="playSlot()">â–¶ï¸ Spin</button>
  <p id="slotResult"></p>
  <button onclick="show('dashboard')">â¬…ï¸ Back</button>
</div>

<!-- Mines -->
<div id="minesGame" class="card hidden">
  <h2>ğŸ’£ Mines</h2>
  <div id="minesGrid" style="display:grid;grid-template-columns:repeat(5,60px);gap:10px;justify-content:center;margin:15px 0;"></div>
  <p id="minesResult"></p>
  <button onclick="cashoutMines()">ğŸ’µ Cashout</button>
  <button onclick="resetMines()">ğŸ”„ Reset</button>
  <button onclick="show('dashboard')">â¬…ï¸ Back</button>
</div>

<script>
/* Admin creds */
const ADMIN_EMAIL="special@gmail.com", ADMIN_PASS="special123";
let currentUser=null;

/* Music */
function toggleMusic(){let m=document.getElementById("bgMusic");if(m.paused){m.play();}else{m.pause();}}

/* Helpers */
function uid(){return "UID"+Math.floor(Math.random()*99999);}
function saveUser(u){localStorage.setItem("user_"+u.email,JSON.stringify(u));renderUsers();}
function loadUser(e){return JSON.parse(localStorage.getItem("user_"+e));}
function allUsers(){let arr=[];for(let i=0;i<localStorage.length;i++){let k=localStorage.key(i);if(k.startsWith("user_"))arr.push(JSON.parse(localStorage.getItem(k)));}return arr;}
function show(id){document.querySelectorAll(".card").forEach(c=>c.classList.add("hidden"));document.getElementById(id).classList.remove("hidden");}

/* Auth */
function register(){let name=document.getElementById("name").value,email=document.getElementById("email").value,pass=document.getElementById("pass").value;
  if(!name||!email||!pass){alert("Fill all fields");return;}
  if(loadUser(email)){alert("Account exists");return;}
  let u={name,email,password:pass,balance:20,id:uid(),mode:"normal",losses:0};saveUser(u);alert("Registered with 20$ bonus.");}
function login(){let email=document.getElementById("email").value,pass=document.getElementById("pass").value;let u=loadUser(email);
  if(!u||u.password!==pass){alert("Invalid");return;}currentUser=u;updateUI();show("dashboard");}
function logout(){currentUser=null;show("auth");}
function adminLogin(){let email=document.getElementById("adminEmail").value,pass=document.getElementById("adminPass").value;
  if(email===ADMIN_EMAIL && pass===ADMIN_PASS){show("adminPanel");renderUsers();}else alert("âŒ Wrong admin login");}
function updateUI(){document.getElementById("userName").innerText=currentUser.name;document.getElementById("userId").innerText=currentUser.id;document.getElementById("balance").innerText=currentUser.balance;saveUser(currentUser);}
function getBet(){let v=parseInt(document.getElementById("betAmount").value);if(currentUser.balance<v){alert("Not enough balance");return null;}return v;}
function forceResult(){return currentUser.mode||"normal";}

/* Admin Panel */
function renderUsers(){let tbody=document.querySelector("#usersTable tbody");tbody.innerHTML="";
  allUsers().forEach(u=>{let safeId=btoa(u.email);let tr=document.createElement("tr");
    tr.innerHTML=`<td>${u.name}</td><td>${u.id}</td><td>${u.balance}</td><td>${u.losses}$</td>
    <td><input type='number' value='${u.balance}' id='bal_${safeId}'><button onclick="updateBal('${u.email}')">âœ”ï¸</button></td>
    <td><select id="mode_${safeId}" onchange="changeMode('${u.email}')">
      <option value="normal" ${u.mode==="normal"?"selected":""}>âš–ï¸ Normal</option>
      <option value="win" ${u.mode==="win"?"selected":""}>ğŸ”¥ Always Win</option>
      <option value="lose" ${u.mode==="lose"?"selected":""}>âŒ Always Lose</option>
    </select></td>`;tbody.appendChild(tr);});}
function updateBal(email){let safeId=btoa(email);let u=loadUser(email);u.balance=parseInt(document.getElementById("bal_"+safeId).value);saveUser(u);}
function changeMode(email){let safeId=btoa(email);let u=loadUser(email);u.mode=document.getElementById("mode_"+safeId).value;saveUser(u);}
function searchUserById(){let id=document.getElementById("searchId").value.trim();let users=allUsers();let found=users.find(u=>u.id===id);document.getElementById("searchResult").innerHTML=found?`<p>ğŸ‘¤ ${found.name}<br>ğŸ†” ${found.id}<br>ğŸ’° ${found.balance}$</p>`:"âŒ No user";}

/* Games - RPS */
function playRPS(player){let bet=getBet();if(!bet)return;document.getElementById("clickSound").play();
  let options=["âœŠ","âœ‹","âœŒï¸"];let comp;let mode=forceResult();
  if(mode==="win"){comp=(player==="âœŠ"?"âœŒï¸":player==="âœ‹"?"âœŠ":"âœ‹");}
  else if(mode==="lose"){comp=(player==="âœŠ"?"âœ‹":player==="âœ‹"?"âœŒï¸":"âœŠ");}
  else{comp=options[Math.floor(Math.random()*3)];}
  document.getElementById("playerChoice").innerText=player;document.getElementById("computerChoice").innerText=comp;
  let resEl=document.getElementById("rpsResult");
  if(player===comp){resEl.innerText="ğŸ¤ Draw";}
  else if((player==="âœŠ"&&comp==="âœŒï¸")||(player==="âœ‹"&&comp==="âœŠ")||(player==="âœŒï¸"&&comp==="âœ‹")){currentUser.balance+=bet;document.getElementById("winSound").play();resEl.innerText="ğŸ‰ Win +"+bet;animateResult(resEl,true);launchConfetti();}
  else{currentUser.balance-=bet;currentUser.losses+=bet;document.getElementById("loseSound").play();resEl.innerText="âŒ Lose -"+bet;animateResult(resEl,false);}
  updateUI();}
  
/* Slot */
function playSlot(){let bet=getBet();if(!bet)return;document.getElementById("clickSound").play();
  let mode=forceResult();let s=["ğŸ’","ğŸ‹","â­","ğŸ””","7ï¸âƒ£"];let r;
  if(mode==="win"){r=["7ï¸âƒ£","7ï¸âƒ£","7ï¸âƒ£"];}else if(mode==="lose"){r=["ğŸ’","â­","ğŸ””"];}else{r=[s[Math.random()*s.length|0],s[Math.random()*s.length|0],s[Math.random()*s.length|0]];}
  let resEl=document.getElementById("slotResult");if(r[0]===r[1]&&r[1]===r[2]){currentUser.balance+=bet*5;document.getElementById("winSound").play();resEl.innerHTML=`${r.join(" ")}<br>ğŸ‰ Jackpot +${bet*5}`;animateResult(resEl,true);launchConfetti();}
  else if(r[0]===r[1]||r[1]===r[2]||r[0]===r[2]){currentUser.balance+=bet;document.getElementById("winSound").play();resEl.innerHTML=`${r.join(" ")}<br>âœ¨ Win +${bet}`;animateResult(resEl,true);}
  else{currentUser.balance-=bet;currentUser.losses+=bet;document.getElementById("loseSound").play();resEl.innerHTML=`${r.join(" ")}<br>âŒ Lose -${bet}`;animateResult(resEl,false);}updateUI();}
  
/* Mines */
let minesData=[],minesActive=false,minesBet=0;
function startMines(){show("minesGame");resetMines();}
function resetMines(){let g=document.getElementById("minesGrid");g.innerHTML="";minesData=[];minesActive=true;minesBet=getBet();if(!minesBet)return;
  for(let i=0;i<25;i++){let mine=Math.random()<0.2;minesData.push(mine);let b=document.createElement("button");b.innerText="â“";b.style.width="60px";b.style.height="60px";b.onclick=()=>clickMine(i,b);g.appendChild(b);}}
function clickMine(i,btn){if(!minesActive)return;let resEl=document.getElementById("minesResult");
  if(minesData[i]){btn.innerText="ğŸ’£";btn.style.background="#ff4444";currentUser.balance-=minesBet;currentUser.losses+=minesBet;minesActive=false;document.getElementById("loseSound").play();resEl.innerText="âŒ Boom -"+minesBet;animateResult(resEl,false);}
  else{btn.innerText="ğŸ’";btn.style.background="#44ff44";currentUser.balance+=minesBet;document.getElementById("winSound").play();resEl.innerText="ğŸ‰ Safe +"+minesBet;animateResult(resEl,true);launchConfetti();}updateUI();}
function cashoutMines(){if(minesActive){minesActive=false;document.getElementById("minesResult").innerText+=" ğŸ’µ Cashed Out";}}

/* Animations */
function animateResult(el,isWin){el.classList.remove("win-anim","lose-anim");void el.offsetWidth;el.classList.add(isWin?"win-anim":"lose-anim");}

/* Confetti */
function launchConfetti(){let canvas=document.getElementById("confettiCanvas");canvas.classList.remove("hidden");let ctx=canvas.getContext("2d");canvas.width=innerWidth;canvas.height=innerHeight;
let pieces=new Array(80).fill().map(()=>({x:Math.random()*canvas.width,y:Math.random()*canvas.height,r:Math.random()*6+4,d:Math.random()*100,color:`hsl(${Math.random()*360},100%,50%)`,tilt:Math.random()*10-10}));
function draw(){ctx.clearRect(0,0,canvas.width,canvas.height);pieces.forEach(p=>{ctx.beginPath();ctx.fillStyle=p.color;ctx.arc(p.x,p.y,p.r,0,Math.PI*2,false);ctx.fill();});update();}
function update(){pieces.forEach(p=>{p.y+=Math.cos(p.d)+1+p.r/2;p.x+=Math.sin(p.d);if(p.y>canvas.height){p.x=Math.random()*canvas.width;p.y=-10;}});}
let interval=setInterval(draw,20);setTimeout(()=>{clearInterval(interval);canvas.classList.add("hidden");},3000);}
</script>
</body>
</html>
