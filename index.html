<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>InstaPlay 🎮</title>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    body{margin:0;font-family:"Tajawal",sans-serif;
      background:linear-gradient(-45deg,#f9ce34,#ee2a7b,#6228d7,#f9ce34);
      background-size:400% 400%;animation:gradientMove 12s ease infinite;
      color:white;min-height:100vh;display:flex;justify-content:center;align-items:flex-start;padding:20px;}
    @keyframes gradientMove{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
    .card{background:rgba(0,0,0,0.6);padding:20px;border-radius:18px;width:480px;max-width:95%;box-shadow:0 10px 30px rgba(0,0,0,0.5);margin:10px auto;}
    h1,h2,h3{margin:0 0 15px;text-align:center;}
    input,button,select{width:100%;margin:6px 0;padding:12px;border:none;border-radius:10px;font-size:15px;}
    input{background:#fff;color:#333}
    button{cursor:pointer;font-weight:bold;background:white;color:#6228d7;transition:.3s}
    button:hover{background:#ee2a7b;color:white;transform:scale(1.05)}
    .hidden{display:none}
    .games-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-top:10px}
    .game-btn{background:#fff;color:#6228d7;padding:14px;border-radius:10px;font-weight:bold;cursor:pointer}
    .game-btn:hover{background:#f9ce34;color:#000}
    table{width:100%;border-collapse:collapse;background:rgba(255,255,255,0.1);margin-top:10px;}
    th,td{padding:6px;border:1px solid rgba(255,255,255,0.2);font-size:13px;text-align:center}
    th{background:rgba(0,0,0,0.4)}
    .modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);display:flex;align-items:center;justify-content:center;}
    .modal-content{background:#222;padding:20px;border-radius:12px;width:320px;text-align:center;}
    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;margin-top:10px;}
    .cell{background:#fff;color:#000;padding:20px;border-radius:6px;cursor:pointer;font-weight:bold;}
  </style>
</head>
<body>

<!-- 🎮 Dashboard -->
<div id="dashboard" class="card">
  <h2>مرحبا بك في InstaPlay 🎮</h2>
  <p>💰 رصيدك: <span id="balance">20</span> $</p>

  <div class="games-grid">
    <div class="game-btn" onclick="openGame('Coin')">🪙 Coin</div>
    <div class="game-btn" onclick="openGame('Dice')">🎲 Dice</div>
    <div class="game-btn" onclick="openGame('Mines')">💣 Mines</div>
    <div class="game-btn" onclick="openGame('Wheel')">🎡 Wheel</div>
    <div class="game-btn" onclick="openGame('RPS')">✊✋✌️ RPS</div>
    <div class="game-btn" onclick="openGame('Slot')">🎰 Slot</div>
  </div>

  <h3>📜 سجلي</h3>
  <table><thead><tr><th>🎮 اللعبة</th><th>📊 النتيجة</th><th>🕒 الوقت</th></tr></thead><tbody id="userTx"></tbody></table>
</div>

<!-- 👑 الأدمن -->
<div class="card">
  <h3>لوحة تحكم الأدمن</h3>
  <select id="forceResult">
    <option value="random">🎲 عشوائي</option>
    <option value="win">✅ ربح دائم</option>
    <option value="lose">❌ خسارة دائمة</option>
  </select>
</div>

<!-- نافذة اللعبة -->
<div id="gameModal" class="modal hidden">
  <div class="modal-content" id="modalContent"></div>
</div>

<script>
let balance=20;
let currentGame="";

/* سجل */
function logTx(game,result){
  let tx=document.getElementById("userTx");
  let tr=document.createElement("tr");
  tr.innerHTML=`<td>${game}</td><td>${result}</td><td>${new Date().toLocaleTimeString()}</td>`;
  tx.prepend(tr);
}

/* التحكم في النتيجة */
function decideResult(){
  let mode=document.getElementById("forceResult").value;
  if(mode==="win") return true;
  if(mode==="lose") return false;
  return Math.random()<0.5;
}

/* فتح لعبة */
function openGame(name){
  currentGame=name;
  let modal=document.getElementById("modalContent");

  if(name==="Coin"){
    modal.innerHTML=`<h3>🪙 Coin Flip</h3>
      <button onclick="playCoin('وجه')">وجه</button>
      <button onclick="playCoin('ظهر')">ظهر</button>
      <button onclick="closeGame()">❌ إغلاق</button>`;
  }
  if(name==="Dice"){
    modal.innerHTML=`<h3>🎲 Dice</h3>
      <p>اختر رقم:</p>
      <div class="grid">
        ${[1,2,3,4,5,6].map(n=>`<div class='cell' onclick="playDice(${n})">${n}</div>`).join("")}
      </div>
      <button onclick="closeGame()">❌ إغلاق</button>`;
  }
  if(name==="Mines"){
    modal.innerHTML=`<h3>💣 Mines</h3>
      <p>اختر خانة:</p>
      <div class="grid">
        ${Array(9).fill(0).map((_,i)=>`<div class='cell' onclick="playMines(${i})">?</div>`).join("")}
      </div>
      <button onclick="closeGame()">❌ إغلاق</button>`;
  }
  if(name==="Wheel"){
    modal.innerHTML=`<h3>🎡 Wheel</h3>
      <p>اضغط لتدوير العجلة</p>
      <button onclick="playWheel()">🎡 Spin</button>
      <button onclick="closeGame()">❌ إغلاق</button>`;
  }
  if(name==="RPS"){
    modal.innerHTML=`<h3>✊✋✌️ RPS</h3>
      <button onclick="playRPS('حجرة')">✊ حجرة</button>
      <button onclick="playRPS('ورقة')">✋ ورقة</button>
      <button onclick="playRPS('مقص')">✌️ مقص</button>
      <button onclick="closeGame()">❌ إغلاق</button>`;
  }
  if(name==="Slot"){
    modal.innerHTML=`<h3>🎰 Slot Machine</h3>
      <p>اضغط للتدوير</p>
      <button onclick="playSlot()">🎰 Spin</button>
      <button onclick="closeGame()">❌ إغلاق</button>`;
  }
  document.getElementById("gameModal").classList.remove("hidden");
}
function closeGame(){document.getElementById("gameModal").classList.add("hidden");}

/* ألعاب */
function playCoin(choice){
  let win=decideResult();
  if(win){balance+=5;logTx("Coin","ربحت");alert(`✅ ${choice} ربح!`);}
  else{balance-=5;logTx("Coin","خسرت");alert(`❌ ${choice} خسر!`);}
  document.getElementById("balance").innerText=balance;closeGame();
}

function playDice(choice){
  let dice=Math.floor(Math.random()*6)+1;
  let win=(dice===choice && decideResult());
  if(win){balance+=10;logTx("Dice","ربحت");alert(`🎲 ${dice} ✅ ربحت!`);}
  else{balance-=10;logTx("Dice","خسرت");alert(`🎲 ${dice} ❌ خسرت!`);}
  document.getElementById("balance").innerText=balance;closeGame();
}

function playMines(index){
  let win=decideResult();
  if(win){balance+=8;logTx("Mines","Safe");alert("💎 Safe!");}
  else{balance-=8;logTx("Mines","خسرت");alert("💣 انفجار! خسرت");}
  document.getElementById("balance").innerText=balance;closeGame();
}

function playWheel(){
  let win=decideResult();
  let sectors=["10$","Lose","5$","Lose","20$","Lose"];
  let pick=sectors[Math.floor(Math.random()*sectors.length)];
  if(win && pick!=="Lose"){balance+=parseInt(pick);logTx("Wheel","ربحت "+pick);alert("✅ ربحت "+pick);}
  else{balance-=10;logTx("Wheel","خسرت");alert("❌ خسرت!");}
  document.getElementById("balance").innerText=balance;closeGame();
}

function playRPS(choice){
  let options=["حجرة","ورقة","مقص"];
  let comp=options[Math.floor(Math.random()*3)];
  let win=decideResult();
  if(win){balance+=6;logTx("RPS","فزت");alert(`انت: ${choice} | خصم: ${comp} ✅ فزت!`);}
  else{balance-=6;logTx("RPS","خسرت");alert(`انت: ${choice} | خصم: ${comp} ❌ خسرت!`);}
  document.getElementById("balance").innerText=balance;closeGame();
}

function playSlot(){
  let symbols=["🍒","🍋","⭐","💎"];
  let spin=[symbols[Math.floor(Math.random()*4)],symbols[Math.floor(Math.random()*4)],symbols[Math.floor(Math.random()*4)]];
  let win=decideResult();
  if(win){balance+=15;logTx("Slot","Jackpot");alert("🎰 "+spin.join(" ")+" ✅ Jackpot!");}
  else{balance-=15;logTx("Slot","خسرت");alert("🎰 "+spin.join(" ")+" ❌ خسرت!");}
  document.getElementById("balance").innerText=balance;closeGame();
}
</script>
</body>
</html>
