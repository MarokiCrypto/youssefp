<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>InstaPlay ğŸ®</title>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    body{margin:0;font-family:"Tajawal",sans-serif;
      background:linear-gradient(-45deg,#f9ce34,#ee2a7b,#6228d7,#f9ce34);
      background-size:400% 400%;animation:gradientMove 12s ease infinite;
      color:white;min-height:100vh;display:flex;justify-content:center;align-items:flex-start;padding:20px;}
    @keyframes gradientMove{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
    .card{background:rgba(0,0,0,0.6);padding:20px;border-radius:18px;width:460px;max-width:95%;box-shadow:0 10px 30px rgba(0,0,0,0.5);margin:10px auto;}
    h1,h2,h3{margin:0 0 15px;text-align:center;}
    input,button,select{width:100%;margin:6px 0;padding:12px;border:none;border-radius:10px;font-size:15px;}
    input,select{background:#fff;color:#333}
    button{cursor:pointer;font-weight:bold;background:white;color:#6228d7;transition:.3s}
    button:hover{background:#ee2a7b;color:white;transform:scale(1.05)}
    .hidden{display:none}
    .games-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-top:10px}
    .game-btn{background:#fff;color:#6228d7;padding:14px;border-radius:10px;font-weight:bold;cursor:pointer}
    .game-btn:hover{background:#f9ce34;color:#000}
  </style>
</head>
<body>

<!-- ğŸ” ØªØ³Ø¬ÙŠÙ„ -->
<div id="auth" class="card">
  <h1>ğŸ® InstaPlay</h1>
  <h3>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ / Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</h3>
  <input id="name" type="text" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„">
  <input id="email" type="text" placeholder="Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„">
  <input id="pass" type="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
  <button onclick="register()">ØªØ³Ø¬ÙŠÙ„ Ø¬Ø¯ÙŠØ¯</button>
  <button onclick="login()">Ø¯Ø®ÙˆÙ„</button>
  <button onclick="show('adminLogin')">ğŸ‘‘ Ø¯Ø®ÙˆÙ„ Ø®Ø§Øµ</button>
</div>

<!-- ğŸ‘‘ Login Ø®Ø§Øµ -->
<div id="adminLogin" class="card hidden">
  <h2>ğŸ‘‘ Ø¯Ø®ÙˆÙ„ Ø®Ø§Øµ</h2>
  <input id="adminEmail" type="text" placeholder="Email">
  <input id="adminPass" type="password" placeholder="Mot de passe">
  <button onclick="adminLogin()">Ø¯Ø®ÙˆÙ„</button>
  <button onclick="backToAuth()">â¬…ï¸ Ø±Ø¬ÙˆØ¹</button>
</div>

<!-- ğŸ® Dashboard -->
<div id="dashboard" class="card hidden">
  <h2>Ù…Ø±Ø­Ø¨Ø§ <span id="userName"></span></h2>
  <p>ID: <span id="userId"></span></p>
  <p>ğŸ’° Ø§Ù„Ø±ØµÙŠØ¯: <span id="balance"></span> $</p>
  <select id="betAmount">
    <option value="5">5$</option>
    <option value="10">10$</option>
    <option value="20">20$</option>
    <option value="50">50$</option>
  </select>
  <div class="games-grid">
    <div class="game-btn" onclick="hideAll();show('coinGame')">ğŸª™ Coin</div>
    <div class="game-btn" onclick="hideAll();show('diceGame')">ğŸ² Dice</div>
    <div class="game-btn" onclick="hideAll();show('rpsGame')">âœŠâœ‹âœŒï¸ RPS</div>
    <div class="game-btn" onclick="hideAll();show('slotGame')">ğŸ° Slot</div>
    <div class="game-btn" onclick="startMines()">ğŸ’£ Mines</div>
  </div>
  <button onclick="logout()">ğŸšª Ø®Ø±ÙˆØ¬</button>
</div>

<!-- ğŸª™ Coin -->
<div id="coinGame" class="card hidden">
  <h2>ğŸª™ Coin Toss</h2>
  <div id="coin" style="font-size:100px;transition:transform 1s;">ğŸª™</div>
  <button onclick="flipCoin('Pile')">Pile</button>
  <button onclick="flipCoin('Face')">Face</button>
  <p id="coinResult"></p>
  <button onclick="backToDash()">â¬…ï¸ Ø±Ø¬ÙˆØ¹</button>
</div>

<!-- ğŸ² Dice -->
<div id="diceGame" class="card hidden">
  <h2>ğŸ² Ù„Ø¹Ø¨Ø© Ø§Ù„Ù†Ø±Ø¯</h2>
  <div id="dice" style="font-size:100px;margin:15px;">ğŸ²</div>
  <button onclick="rollDice()">ğŸ² Ø§Ø±Ù…ÙŠ</button>
  <p id="diceResult"></p>
  <button onclick="backToDash()">â¬…ï¸ Ø±Ø¬ÙˆØ¹</button>
</div>

<!-- âœŠâœ‹âœŒï¸ RPS -->
<div id="rpsGame" class="card hidden">
  <h2>âœŠâœ‹âœŒï¸ RPS</h2>
  <div style="display:flex;justify-content:space-around;font-size:60px;margin:15px 0;">
    <button onclick="playRPS('âœŠ')">âœŠ</button>
    <button onclick="playRPS('âœ‹')">âœ‹</button>
    <button onclick="playRPS('âœŒï¸')">âœŒï¸</button>
  </div>
  <div id="rpsBattle" style="display:flex;justify-content:space-around;font-size:40px;margin:20px 0;opacity:0;transition:opacity .5s;">
    <div>ğŸ‘¤ <span id="playerChoice">â“</span></div>
    <div>VS</div>
    <div>ğŸ¤– <span id="computerChoice">â“</span></div>
  </div>
  <p id="rpsResult"></p>
  <button onclick="backToDash()">â¬…ï¸ Ø±Ø¬ÙˆØ¹</button>
</div>

<!-- ğŸ° Slot -->
<div id="slotGame" class="card hidden">
  <h2>ğŸ° Slot Machine</h2>
  <div id="slotReels" style="display:flex;justify-content:center;font-size:50px;gap:20px;margin:15px 0;">
    <span id="reel1">â“</span><span id="reel2">â“</span><span id="reel3">â“</span>
  </div>
  <button onclick="playSlot()">â–¶ï¸ Spin</button>
  <p id="slotResult"></p>
  <button onclick="backToDash()">â¬…ï¸ Ø±Ø¬ÙˆØ¹</button>
</div>

<!-- ğŸ’£ Mines -->
<div id="minesGame" class="card hidden">
  <h2>ğŸ’£ Mines</h2>
  <div id="minesGrid" style="display:grid;grid-template-columns:repeat(5,60px);gap:10px;justify-content:center;margin:15px 0;"></div>
  <p id="minesResult"></p>
  <button onclick="resetMines()">ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø©</button>
  <button onclick="backToDash()">â¬…ï¸ Ø±Ø¬ÙˆØ¹</button>
</div>

<script>
const ADMIN_EMAIL="special@gmail.com";
const ADMIN_PASS="special123";
let currentUser=null;

function uid(){return "UID"+Math.floor(Math.random()*99999);}
function saveUser(u){localStorage.setItem("user_"+u.email,JSON.stringify(u));}
function loadUser(e){return JSON.parse(localStorage.getItem("user_"+e));}
function hideAll(){document.querySelectorAll(".card").forEach(c=>c.classList.add("hidden"));}
function show(id){hideAll();document.getElementById(id).classList.remove("hidden");}
function backToDash(){hideAll();show("dashboard");}
function backToAuth(){hideAll();show("auth");}

function register(){
  let name=document.getElementById("name").value;
  let email=document.getElementById("email").value;
  let pass=document.getElementById("pass").value;
  if(!name||!email||!pass){alert("Ø§Ù…Ù„Ø£ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„");return;}
  if(loadUser(email)){alert("Ø§Ù„Ø­Ø³Ø§Ø¨ Ù…ÙˆØ¬ÙˆØ¯");return;}
  let u={name,email,password:pass,balance:20,id:uid()};
  saveUser(u);alert("ØªÙ… Ø§Ù„ØªØ³Ø¬ÙŠÙ„ (Ø±ØµÙŠØ¯ 20$).");
}
function login(){
  let email=document.getElementById("email").value;
  let pass=document.getElementById("pass").value;
  let u=loadUser(email);
  if(!u||u.password!==pass){alert("Ø¨ÙŠØ§Ù†Ø§Øª Ø®Ø§Ø·Ø¦Ø©");return;}
  currentUser=u;updateUI();show("dashboard");
}
function logout(){currentUser=null;backToAuth();}
function adminLogin(){
  let email=document.getElementById("adminEmail").value;
  let pass=document.getElementById("adminPass").value;
  if(email===ADMIN_EMAIL && pass===ADMIN_PASS){alert("ØªÙ… Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­ âœ…");}
  else alert("Ø®Ø·Ø£ ÙÙŠ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„");
}
function updateUI(){
  document.getElementById("userName").innerText=currentUser.name;
  document.getElementById("userId").innerText=currentUser.id;
  document.getElementById("balance").innerText=currentUser.balance;
  saveUser(currentUser);
}
function getBet(){
  let v=parseInt(document.getElementById("betAmount").value);
  if(currentUser.balance<v){alert("Ø±ØµÙŠØ¯ ØºÙŠØ± ÙƒØ§Ù");return null;}
  return v;
}

/* ğŸª™ Coin */
function flipCoin(choice){
  let bet=getBet();if(!bet)return;
  let coin=document.getElementById("coin");
  let result=Math.random()<0.5?"Pile":"Face";
  coin.style.transform="rotateY(720deg)";
  setTimeout(()=>{
    coin.innerText=(result==="Pile")?"ğŸª™":"ğŸ’°";
    if(result===choice){currentUser.balance+=bet;document.getElementById("coinResult").innerText="ğŸ‰ GagnÃ© +"+bet;}
    else{currentUser.balance-=bet;document.getElementById("coinResult").innerText="âŒ Perdu -"+bet;}
    updateUI();
  },1000);
}

/* ğŸ² Dice */
function rollDice(){
  let bet=getBet();if(!bet)return;
  let dice=document.getElementById("dice");
  let result=Math.floor(Math.random()*6)+1;
  let faces=["âš€","âš","âš‚","âšƒ","âš„","âš…"];
  dice.style.transform="rotate(360deg)";
  setTimeout(()=>{
    dice.innerText=faces[result-1];
    if(result>=4){currentUser.balance+=bet;document.getElementById("diceResult").innerText="ğŸ‰ GagnÃ© ("+result+")";}
    else{currentUser.balance-=bet;document.getElementById("diceResult").innerText="âŒ Perdu ("+result+")";}
    updateUI();
  },800);
}

/* âœŠâœ‹âœŒï¸ RPS */
function playRPS(player){
  let bet=getBet();if(!bet)return;
  let options=["âœŠ","âœ‹","âœŒï¸"];
  let comp=options[Math.floor(Math.random()*3)];
  document.getElementById("playerChoice").innerText=player;
  document.getElementById("computerChoice").innerText=comp;
  document.getElementById("rpsBattle").style.opacity=1;
  let result="";
  if(player===comp){result="ğŸ¤ Ã‰galitÃ©";}
  else if((player==="âœŠ"&&comp==="âœŒï¸")||(player==="âœ‹"&&comp==="âœŠ")||(player==="âœŒï¸"&&comp==="âœ‹")){
    currentUser.balance+=bet;result="ğŸ‰ GagnÃ© +"+bet;
  }else{currentUser.balance-=bet;result="âŒ Perdu -"+bet;}
  document.getElementById("rpsResult").innerText=result;
  updateUI();
}

/* ğŸ° Slot */
function playSlot(){
  let bet=getBet();if(!bet)return;
  let s=["ğŸ’","ğŸ‹","â­","ğŸ””","7ï¸âƒ£"];
  let reels=[document.getElementById("reel1"),document.getElementById("reel2"),document.getElementById("reel3")];
  let spins=20;let i=0;
  let spinInterval=setInterval(()=>{
    reels.forEach(r=>r.innerText=s[Math.floor(Math.random()*s.length)]);
    i++;if(i>spins){clearInterval(spinInterval);
      let r=[s[Math.floor(Math.random()*s.length)],s[Math.floor(Math.random()*s.length)],s[Math.floor(Math.random()*s.length)]];
      reels[0].innerText=r[0];reels[1].innerText=r[1];reels[2].innerText=r[2];
      if(r[0]===r[1]&&r[1]===r[2]){currentUser.balance+=bet*5;document.getElementById("slotResult").innerText="ğŸ‰ Jackpot!!";}
      else if(r[0]===r[1]||r[1]===r[2]||r[0]===r[2]){currentUser.balance+=bet;document.getElementById("slotResult").innerText="âœ¨ Petit gain";}
      else{currentUser.balance-=bet;document.getElementById("slotResult").innerText="âŒ Perdu";}
      updateUI();
    }},100);
}

/* ğŸ’£ Mines */
let minesData=[];let minesActive=true;
function startMines(){hideAll();show("minesGame");resetMines();}
function resetMines(){
  let g=document.getElementById("minesGrid");g.innerHTML="";minesData=[];minesActive=true;
  for(let i=0;i<25;i++){
    let mine=Math.random()<0.2;
    minesData.push(mine);
    let b=document.createElement("button");
    b.innerText="â“";b.style.width="60px";b.style.height="60px";b.style.fontSize="22px";
    b.onclick=()=>clickMine(i,b);g.appendChild(b);
  }
}
function clickMine(i,btn){
  if(!minesActive)return;
  let bet=getBet();if(!bet)return;
  if(minesData[i]){
    btn.innerText="ğŸ’£";btn.style.background="#ff4444";currentUser.balance-=bet;minesActive=false;
    document.getElementById("minesResult").innerText="âŒ Boom! -"+bet;
  }else{
    btn.innerText="ğŸ’";btn.style.background="#44ff44";currentUser.balance+=bet;
    document.getElementById("minesResult").innerText="ğŸ‰ Safe! +"+bet;
  }
  updateUI();
}
</script>
</body>
</html>
